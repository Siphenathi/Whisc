@model IEnumerable<WHSIC.Model.DonationViewModel>
@{
    decimal TotalIncome = 0;
}

<h2 class="text-center"> Income</h2>
<table class="table table-bordered table-hover table-striped" style="border:inset">
    <tr>
        <th>
            Date&nbsp;&nbsp;
        </th>
        <th>
            Reference&nbsp;&nbsp;&nbsp;&nbsp;
        </th>
        <th>
            Description&nbsp;&nbsp;&nbsp;&nbsp;
        </th>
        <th>
            Amount&nbsp;&nbsp;&nbsp;&nbsp;
        </th>
        <th>
            Outstanding Balance
        </th>
    </tr>

    @foreach (var item in Model)
    {

        TotalIncome += item.Amount;
        TempData["TotalIncome"] = TotalIncome.@model IEnumerable
    <Sales_Process.Model.ItemViewModel>
        @using Sales_Process.BusinessLogic
        @using Sales_Process.Model
        @{
            ViewBag.Title = "Index";
        }

        <h2>Index</h2>

        <p>
            @Html.ActionLink("Create New", "Create")
        </p>
        <table class="table">
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.Name)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Assembly_Date)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Quantity)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Price)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Category_ID)
                </th>
                <th></th>
            </tr>

            @foreach (var item in Model)
            {
                ItemCategoryBusinessLogic ib = new ItemCategoryBusinessLogic();
                Item_CategoryViewModel obj = ib.GetbyID(item.Category_ID);
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.Name)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Assembly_Date)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Quantity)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Price)
                    </td>
                    <td>
                        @obj.Cat_name
                    </td>
                    <td>
                        @Html.ActionLink("Edit", "Edit", new { id = item.Item_ID }) |
                        @Html.ActionLink("Delete", "Delete", new { id = item.Item_ID })
                    </td>
                </tr>
            }

        </table>

        <tr>

            <td>
                @item.Date.ToShortDateString()
            </td>
            <td>
                @item.Donor_Name &nbsp;&nbsp;&nbsp;&nbsp;
            </td>
            <td>
                @item.TDescription
            </td>
            <td>
                @item.Amount.ToString("R0.00")
            </td>
            <td></td>
        </tr>
        }
        <tr>
            <td>
                <b>Total Income</b>
            </td>
            <td></td>
            <td></td>
            <td>
                <b>@TempData["TotalIncome"]</b>
            </td>
            <td></td>
        </tr>
</table>